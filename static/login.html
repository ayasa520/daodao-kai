<!DOCTYPE html>
<!--此页面来源于 https://www.cnblogs.com/nyw1983/p/11406387.html-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link rel="stylesheet" href="css/login.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="box">
        <h2>登录</h2>
        <form action="http://127.0.0.1:5000/api/login"  method="POST" onsubmit="return ajax_submit();">
            <div class="inputbox">
                <input type="text" id="username" name="username" required="">
                <label>用户名</label>
            </div>
            <div class="inputbox">
                <input type="password" id="password" name="password" required="">
                <label>密码</label>
            </div>
            <input type="submit" name="" value="确定">
        </form>
    </div>

</body>
<script> 
    function ajax_submit(){
        $.ajax({
        type: 'POST',
        url: 'https://daodao-kai.vercel.app/api/login',
        dataType: 'json',
        contentType: 'application/json;charset=UTF-8',
        xhrFields: {
            withCredentials: true
        },
        crossDomain: true,

        data:JSON.stringify( {
            "username": $("#username").val(),
            "password": $("#password").val()
        }),
        success: function(result){
            if(result.code===1)
            {
                window.location.href = "/";
            }
        },
     });
     return false;
    }
    ajax_submit();
    </script>
</html>



